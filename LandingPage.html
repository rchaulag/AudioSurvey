<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Audio Survey</title>

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />

    <!-- jQuery library -->
    <script src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>


</head>
<body>
    <h1> NOAH's Audio Arc</h1>

    <!--Audio list
        can add multiple audio files as well-->
    <audio id="myMusics">
        <source src="C:/Users/alien/Desktop/test.mp3" type="audio/mpeg">
    </audio>


    <form id="audioForm" action="#" method="post" class="form-horizontal">
        <div class="jumbotron-fluid  align-items-center">
            <div class="form-group">
                <button class="btn btn-primary form-group" id="btnPlay">
                    Play Music
                </button>
            </div>

            <div class="form-group">
                <label class="col-sm-2">First Name</label>
                <div class="col-sm-10">
                    <input type="text" id="firstName" name="firstName" class="form-control" disabled="disabled" placeholder="Enter first name" />
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2">Last Name</label>
                <div class="col-sm-10">
                    <input type="text" id="lastName" name="lastName" class="form-control" disabled="disabled" placeholder="Enter last name" />
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2">Enter Numbers</label>
                <div class="col-sm-10">
                    <input type="number" id="number" name="number" class="form-control" disabled="disabled" placeholder="Enter some numbers" />
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2">Select something</label>
                <select name="something" class="form-control col-sm-10" disabled="disabled">
                    <option value="noThing" selected="selected">No Thing</option>
                    <option value="oneThing">One Thing</option>
                    <option value="twoThing">Two Thing</option>
                    <option value="myThing">Mine, of course!</option>
                </select>
            </div>

            <div class="form-group">
                <button type="submit" id="btnSubmit" onclick="btnSubmit" class="btn btn-success form-group" disabled="disabled">Submit</button>
            </div>

        </div>
    </form>
    <div class="form-group">
        <pre id="output"></pre>
    </div>




    <script>

        //play button event
        $('#btnPlay').click(function (event) {
            //play the audio
            document.getElementById("myMusics").play();

            //enable all the input fields and button
            //refactor this code
            $('#btnSubmit').removeAttr('disabled');
            $('#firstName').removeAttr('disabled');
            $('#lastName').removeAttr('disabled');
            $('#number').removeAttr('disabled');
            $('select').removeAttr('disabled');
            event.preventDefault();
        });

        //submit button event
        $('#btnSubmit').click(function (e) {
            e.preventDefault();
            //check if the user has input fields filled // Input field validation


            var json = toJSONString(this.form);
            var output = document.getElementById("output");
            output.innerHTML = json;
            jsonObjects = json.slice(1, -1);
            jData = jsonObjects;

        });


        //****************JSON Conversion****************//
        var jsonObjects;
        var jData;
        function toJSONString(form) {
            var obj = {};
            var elements = form.querySelectorAll("input,select"); // if you have other input types, add em here
            for (var i = 0; i < elements.length; ++i) {
                var element = elements[i];
                var name = element.name;
                var value = element.value;

                if (name) {
                    obj[name] = value;
                }
            }

            return JSON.stringify(obj);
        }
        //*****************************JSON Conversion****************************//

    </script>


</body>

</html>
